{% extends 'base.html' %}
{% load static %}

{% block title %}Historial de Movimientos{% endblock %}

{% block content %}
<div class="admin-dashboard">
  <h1 class="admin-title">Historial de Movimientos (Negocio: {{ request.user.negocio }})</h1>

  <!-- Tabla de movimientos -->
  <div class="table-responsive">
    <table class="admin-table">
      <thead>
        <tr>
          <th class="admin-table-header">Tipo</th>
          <th class="admin-table-header">Producto</th>
          <th class="admin-table-header">Cantidad</th>
          <th class="admin-table-header">Usuario</th>
          <th class="admin-table-header">Fecha</th>
          <th class="admin-table-header">Comentario</th>
        </tr>
      </thead>
      <tbody>
        {% for m in movimientos %}
          <tr class="admin-table-row">
            <td class="admin-table-data">{{ m.tipo_movimiento }}</td>
            <td class="admin-table-data">{{ m.producto.nombre }}</td>
            <td class="admin-table-data">{{ m.cantidad }}</td>
            <td class="admin-table-data">
              {% if m.usuario %}
                {{ m.usuario.username }}
              {% endif %}
            </td>
            <td class="admin-table-data">{{ m.fecha_movimiento }}</td>
            <td class="admin-table-data">{{ m.comentario }}</td>
          </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>
</div>
{% endblock %}